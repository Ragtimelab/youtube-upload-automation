# Gradio 웹 인터페이스 구현 체크리스트

## 🎯 프로젝트 목표
기존 FastAPI 백엔드와 완벽 통합된 Gradio 웹 인터페이스 구현으로 YouTube 업로드 자동화 시스템의 웹 GUI 제공

## 📋 전체 구현 단계

### ✅ 사전 준비 단계
- [ ] 기존 FastAPI 백엔드 서버 정상 동작 확인 (포트 8000)
- [ ] 현재 CLI 도구들 정상 동작 확인
- [ ] Poetry 환경 활성화 확인
- [ ] 백업 브랜치 생성 (현재 상태 보존)

---

## 🔧 1단계: 환경 설정 (예상 시간: 5분)

### 의존성 설치
- [ ] `poetry add gradio` 실행
- [ ] gradio 버전 확인 (4.0+ 권장)
- [ ] 설치 완료 후 `poetry show gradio` 확인

### 기본 파일 구조 생성
- [ ] 프로젝트 루트에 `gradio_app.py` 파일 생성
- [ ] 프로젝트 루트에 `gradio_utils.py` 파일 생성 (API 호출 헬퍼)
- [ ] `.env` 파일에 Gradio 설정 추가

### 포트 설정
- [ ] FastAPI: 8000포트 (기존 유지)
- [ ] Gradio: 7860포트 (기본값) 또는 8080포트
- [ ] 포트 충돌 없음 확인

### 롤백 포인트 1
- [ ] 문제 발생시: 추가된 gradio 의존성 제거 (`poetry remove gradio`)
- [ ] 생성된 파일들 삭제 후 원상복구

---

## 🖥️ 2단계: 기본 인터페이스 구현 (예상 시간: 15분)

### 스크립트 업로드 인터페이스
- [ ] 파일 업로드 컴포넌트 구현 (`gr.File`)
- [ ] 지원 파일 형식 제한 (.md, .txt)
- [ ] 업로드 버튼 및 진행상황 표시
- [ ] FastAPI `/api/scripts/upload` 엔드포인트 연동
- [ ] 업로드 성공/실패 메시지 표시

### 스크립트 목록 조회 인터페이스
- [ ] 스크립트 목록 테이블 구현 (`gr.Dataframe`)
- [ ] ID, 제목, 상태, 생성일 컬럼 표시
- [ ] FastAPI `/api/scripts/` 엔드포인트 연동
- [ ] 목록 새로고침 버튼
- [ ] 스크립트 선택 기능 (드롭다운 또는 라디오)

### 기본 레이아웃 구성
- [ ] Gradio Blocks 레이아웃 구성
- [ ] 탭 구조 설계 (스크립트 관리, 비디오 업로드, YouTube 업로드)
- [ ] 제목 및 설명 추가
- [ ] 기본 스타일링 적용

### 동작 검증
- [ ] 스크립트 업로드 테스트 (실제 .md 파일)
- [ ] 스크립트 목록 조회 테스트
- [ ] 에러 처리 확인 (잘못된 파일 형식)

### 롤백 포인트 2
- [ ] 문제 발생시: `gradio_app.py`, `gradio_utils.py` 파일 삭제
- [ ] 이전 단계로 복귀

---

## 📹 3단계: 비디오 업로드 기능 (예상 시간: 10분)

### 비디오 파일 업로드 인터페이스
- [ ] 비디오 파일 업로드 컴포넌트 구현
- [ ] 지원 파일 형식 제한 (.mp4, .avi, .mov, .mkv)
- [ ] 파일 크기 제한 확인 (8GB)
- [ ] 업로드 진행률 표시

### 스크립트-비디오 매칭 기능
- [ ] 스크립트 선택 드롭다운
- [ ] 선택된 스크립트 정보 표시
- [ ] FastAPI `/api/upload/video/{script_id}` 엔드포인트 연동
- [ ] 매칭 성공/실패 피드백

### 업로드 상태 관리
- [ ] 업로드 진행상황 실시간 표시
- [ ] 업로드 완료 알림
- [ ] 에러 발생시 상세 메시지 표시

### 동작 검증
- [ ] 실제 비디오 파일로 업로드 테스트
- [ ] 스크립트와 비디오 매칭 확인
- [ ] 큰 파일 업로드 테스트 (timeout 처리)

### 롤백 포인트 3
- [ ] 문제 발생시: 비디오 업로드 관련 코드만 제거
- [ ] 2단계 상태로 복귀

---

## 🎬 4단계: YouTube 업로드 기능 (예상 시간: 10분)

### YouTube 업로드 트리거 인터페이스
- [ ] 업로드 준비된 스크립트 목록 표시
- [ ] YouTube 업로드 버튼
- [ ] 업로드 설정 옵션 (공개 설정, 카테고리 등)
- [ ] FastAPI `/api/upload/youtube/{script_id}` 엔드포인트 연동

### 실시간 업로드 진행상황 모니터링
- [ ] WebSocket 연결 설정 (기존 인프라 활용)
- [ ] 업로드 진행률 실시간 업데이트
- [ ] 상태 메시지 실시간 표시
- [ ] 완료/에러 상태 최종 표시

### YouTube API 제한사항 표시
- [ ] 일일 할당량 정보 표시
- [ ] 업로드 비용 정보 (1,600 units)
- [ ] 제한사항 안내 메시지

### 동작 검증
- [ ] 실제 YouTube 업로드 테스트 (테스트 계정)
- [ ] 실시간 진행상황 업데이트 확인
- [ ] 업로드 완료 후 YouTube 링크 확인

### 롤백 포인트 4
- [ ] 문제 발생시: YouTube 업로드 관련 코드만 제거
- [ ] 3단계 상태로 복귀

---

## 📊 5단계: 통합 대시보드 (예상 시간: 10분)

### 전체 워크플로우 통합 인터페이스
- [ ] 대시보드 탭 구현
- [ ] 전체 프로세스 상태 한눈에 보기
- [ ] 스크립트 → 비디오 → YouTube 플로우 시각화
- [ ] 빠른 액션 버튼들 (새로고침, 전체 상태 확인)

### 상태별 필터링 및 검색
- [ ] 상태별 필터 (준비중, 업로드중, 완료, 에러)
- [ ] 제목 검색 기능
- [ ] 날짜 범위 필터
- [ ] 정렬 옵션 (최신순, 제목순, 상태순)

### 에러 처리 및 사용자 피드백
- [ ] 전역 에러 핸들러 구현
- [ ] 사용자 친화적 에러 메시지
- [ ] 재시도 버튼 및 복구 가이드
- [ ] 로그 정보 표시 (선택사항)

### 사용성 개선
- [ ] 로딩 스피너 및 프로그레스 바
- [ ] 성공/실패 토스트 알림
- [ ] 도움말 및 사용 가이드
- [ ] 키보드 단축키 (선택사항)

### 동작 검증
- [ ] 전체 워크플로우 통합 테스트
- [ ] 동시 다중 작업 처리 확인
- [ ] 다양한 에러 시나리오 테스트

### 롤백 포인트 5
- [ ] 문제 발생시: 대시보드 관련 코드만 제거
- [ ] 4단계 상태로 복귀

---

## 🚀 최종 배포 및 테스트

### 통합 테스트
- [ ] 전체 기능 end-to-end 테스트
- [ ] 다중 사용자 시나리오 테스트 (동시 업로드)
- [ ] 브라우저 호환성 테스트 (Chrome, Safari, Firefox)
- [ ] 모바일 반응형 테스트

### 성능 최적화
- [ ] 파일 업로드 성능 확인
- [ ] 메모리 사용량 모니터링
- [ ] 응답 시간 측정 및 최적화

### 문서화
- [ ] 사용자 매뉴얼 작성 (README 업데이트)
- [ ] API 연동 문서 작성
- [ ] 트러블슈팅 가이드 작성

### 운영 준비
- [ ] 실행 스크립트 작성 (`start_gradio.sh`)
- [ ] 서비스 모니터링 설정
- [ ] 로그 관리 설정
- [ ] 백업 및 복구 절차 수립

---

## 🛠️ 기술 사양

### 개발 환경
- **Python**: 3.13
- **Gradio**: 4.0+ (최신 버전)
- **FastAPI**: 0.116.0+ (기존)
- **포트**: Gradio(7860), FastAPI(8000)

### 파일 구조
```
youtube-upload-automation/
├── gradio_app.py           # 메인 Gradio 애플리케이션
├── gradio_utils.py         # API 호출 유틸리티
├── backend/                # 기존 FastAPI 백엔드
├── cli/                    # 기존 CLI 도구들
└── uploads/                # 업로드 파일 저장소
```

### API 엔드포인트 활용
- `POST /api/scripts/upload` - 스크립트 업로드
- `GET /api/scripts/` - 스크립트 목록
- `POST /api/upload/video/{script_id}` - 비디오 업로드
- `POST /api/upload/youtube/{script_id}` - YouTube 업로드
- `WebSocket /ws` - 실시간 상태 업데이트

---

## ⚠️ 주의사항 및 제한사항

### 보안 고려사항
- [ ] 파일 업로드 검증 강화
- [ ] API 인증 확인 (필요시)
- [ ] XSS, CSRF 방어 (Gradio 기본 제공)

### 성능 제한사항
- [ ] 대용량 파일 업로드 시 타임아웃 설정
- [ ] 동시 업로드 수 제한
- [ ] 메모리 사용량 모니터링

### YouTube API 제한
- [ ] 일일 할당량: 10,000 units
- [ ] 업로드당 비용: 1,600 units
- [ ] 파일 크기 제한: 최대 8GB

---

## 🎯 성공 기준

### 기능적 요구사항
- [ ] CLI의 모든 기능이 웹에서 동작
- [ ] 실시간 업로드 진행상황 표시
- [ ] 에러 상황에서 적절한 피드백 제공
- [ ] 기존 시스템과 완전한 호환성

### 사용성 요구사항
- [ ] 직관적이고 간단한 인터페이스
- [ ] 30초 내 첫 번째 스크립트 업로드 가능
- [ ] 모바일에서도 기본 기능 사용 가능

### 기술적 요구사항
- [ ] 99% 안정성 (24시간 연속 운영)
- [ ] 5초 내 페이지 로딩
- [ ] 기존 FastAPI 서버에 영향 없음

---

## 📞 지원 및 문제 해결

### 즉시 중단 시나리오
- FastAPI 백엔드 연결 불가
- 치명적인 에러 발생 (데이터 손실 위험)
- 메모리 누수 또는 성능 급저하

### 롤백 절차
1. **1~5단계별 롤백 포인트 활용**
2. **전체 롤백**: gradio 관련 파일 전체 삭제
3. **의존성 롤백**: `poetry remove gradio`
4. **Git 롤백**: `git reset --hard HEAD~1`

### 문제 해결 연락처
- **개발자**: Claude Code (AI Assistant)
- **디버깅 방법**: 단계별 로그 확인, API 응답 확인
- **긴급 상황**: 즉시 서버 중단 후 CLI로 복귀

---

## ✅ 완료 확인

### 최종 체크리스트
- [ ] 모든 단계 완료
- [ ] 전체 기능 테스트 통과
- [ ] 문서화 완료
- [ ] Git 커밋 및 푸시 완료
- [ ] 사용자 교육 완료

**🎉 구현 완료 예상 시간: 50분 이내**

---

*이 체크리스트는 단계별로 진행하며, 각 단계 완료 후 반드시 동작 확인을 하고 다음 단계로 진행합니다. 문제 발생시 즉시 해당 롤백 포인트를 활용하여 안전하게 이전 상태로 복귀할 수 있습니다.*