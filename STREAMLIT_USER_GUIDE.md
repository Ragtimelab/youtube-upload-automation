# 📖 YouTube 자동화 Streamlit 대시보드 사용법

> **완전 자동화 YouTube 업로드 시스템 - 1인 개발자를 위한 실무 가이드**

## 📋 목차
1. [시작하기](#-시작하기)
2. [대시보드 사용법](#-대시보드-사용법)
3. [스크립트 관리](#-스크립트-관리)
4. [업로드 관리](#-업로드-관리)
5. [전체 워크플로우](#-전체-워크플로우)
6. [문제 해결](#-문제-해결)
7. [고급 사용법](#-고급-사용법)

---

## 🚀 시작하기

### 사전 준비사항
- ✅ 백엔드 서버가 실행 중이어야 함 (`cd backend && make run`)
- ✅ YouTube API 인증 설정 완료
- ✅ 필요한 의존성 설치 완료

### 앱 실행하기
```bash
# 프로젝트 루트에서
streamlit run streamlit_app/app.py

# 또는 특정 포트로 실행
streamlit run streamlit_app/app.py --server.port 8501
```

### 첫 화면 확인
- 브라우저에서 `http://localhost:8503` 접속
- **"🎬 YouTube 자동화 대시보드"** 헤더 확인
- 3개 섹션 네비게이션 확인: 📊 대시보드 | 📝 스크립트 관리 | 🎬 업로드 관리

---

## 📊 대시보드 사용법

### 시스템 상태 모니터링

#### 🔧 시스템 섹션
- **API 연결**: ✅ 녹색 = 정상, ❌ 빨간색 = 오류
- **YouTube 연결**: ✅ 인증 완료, ⚠️ 인증 필요
- **채널 정보**: 연결된 YouTube 채널명 표시

#### 📊 통계 섹션
- **전체**: 등록된 모든 스크립트 수
- **완료**: YouTube 업로드 완료된 수
- **오류**: 실패한 업로드 수

#### ⚡ 빠른 작업
- 각 기능으로 바로 이동할 수 있는 안내 메시지
- **스크립트 업로드**: 스크립트 관리 탭으로 이동
- **비디오 업로드**: 업로드 관리 탭으로 이동

### 최근 활동 확인
- 최근 3개 스크립트의 활동 내역
- **상태 아이콘**: 📝 script_ready, 🎥 video_ready, ✅ uploaded, ❌ error
- **생성 시간**: MM-DD HH:MM 형식
- **YouTube 링크**: 업로드 완료 시 📺 클릭으로 YouTube 페이지 이동

### 새로고침
- 🔄 버튼 클릭으로 실시간 데이터 업데이트

---

## 📝 스크립트 관리

### 📤 업로드 탭

#### 방법 1: 파일 업로드
1. **"파일 업로드"** 라디오 버튼 선택
2. **파일 선택** 버튼 클릭
3. 지원 형식: `.txt`, `.md` (최대 100MB)
4. **내용 미리보기**에서 스크립트 확인
5. **📤 업로드** 버튼 클릭

#### 방법 2: 직접 입력
1. **"직접 입력"** 라디오 버튼 선택
2. 스크립트 형식 예시 참고:
```
=== 제목 ===
여기에 비디오 제목을 입력하세요

=== 메타데이터 ===
설명: 비디오 설명을 입력하세요
태그: 태그1, 태그2, 태그3

=== 썸네일 정보 ===
텍스트: 썸네일에 표시할 텍스트
ImageFX 프롬프트: AI 이미지 생성을 위한 프롬프트

=== 대본 ===
여기에 실제 대본 내용을 작성하세요.
```
3. 텍스트 에리어에 스크립트 내용 입력
4. 파일명 지정 (기본: manual_script.txt)
5. **📝 저장 및 업로드** 버튼 클릭

#### 업로드 결과
- ✅ **성공**: "스크립트 업로드 완료! ID: [번호]" 메시지
- ❌ **실패**: 오류 메시지와 함께 수정 방법 안내

### 📋 관리 탭

#### 필터링 및 검색
- **상태 필터**: 전체/script_ready/video_ready/uploaded/error
- **제목 검색**: 키워드로 스크립트 검색
- **🔄 새로고침**: 목록 업데이트

#### 스크립트 목록
- **테이블 형태**: ID, 제목, 상태, 생성일, YouTube 링크
- **상태 아이콘**으로 한눈에 진행 상황 파악
- **YouTube 컬럼**: 업로드 완료 시 📺 표시

#### 개별 스크립트 관리
1. **드롭다운**에서 편집할 스크립트 선택
2. **스크립트 정보** 확인:
   - 제목, 상태, YouTube 링크(있는 경우)
3. **🗑️ 삭제** 버튼으로 스크립트 삭제
   - ⚠️ 확인 대화상자에서 **✅ 확실히 삭제** 클릭 필요

---

## 🎬 업로드 관리

### 🎥 비디오 업로드 탭

#### 업로드 과정
1. **script_ready 상태** 스크립트만 표시됨
2. 드롭다운에서 **스크립트 선택**
3. **비디오 파일 선택**:
   - 지원 형식: `.mp4`, `.avi`, `.mov`, `.mkv`, `.webm`
   - 최대 크기: 8GB
4. 파일 정보 확인 (파일명, 크기)
5. **🎥 비디오 업로드** 버튼 클릭
6. **진행률 바**로 업로드 상태 확인

#### 업로드 결과
- ✅ **성공**: "비디오 업로드 완료!" → 상태가 `video_ready`로 변경
- ❌ **실패**: 오류 메시지와 함께 재시도 안내

### 📺 YouTube 업로드 탭

#### 업로드 설정
1. **video_ready 상태** 스크립트만 표시됨
2. 드롭다운에서 **업로드할 스크립트 선택**
3. **공개 설정** 선택:
   - **비공개**: private (기본값)
   - **링크 공유**: unlisted
   - **공개**: public
4. **카테고리** 선택:
   - People & Blogs (기본값)
   - Entertainment
   - Howto & Style
   - Education
   - Science & Technology

#### YouTube 업로드 실행
1. **📺 YouTube 업로드** 버튼 클릭
2. **진행률 바**로 업로드 상태 확인
3. **업로드 완료** 후 YouTube 링크 표시
4. 📺 클릭으로 YouTube 페이지에서 확인

#### YouTube API 제한사항
- **일일 할당량**: 10,000 units (업로드당 1,600 units 소모)
- **미인증 프로젝트**: private 모드만 업로드 가능
- **제목 제한**: 최대 100자
- **설명 제한**: 최대 5,000 바이트
- **태그 제한**: 최대 500자

---

## 🔄 전체 워크플로우

### 완전 자동화 프로세스

#### 1단계: 스크립트 준비
```
스크립트 작성 → 📝 스크립트 관리 → 📤 업로드
상태: script_ready
```

#### 2단계: 비디오 업로드
```
비디오 파일 → 🎬 업로드 관리 → 🎥 비디오 업로드
상태: video_ready
```

#### 3단계: YouTube 업로드
```
설정 확인 → 🎬 업로드 관리 → 📺 YouTube 업로드
상태: uploaded
```

#### 4단계: 확인 및 관리
```
📊 대시보드에서 최종 확인 → YouTube 페이지 방문
```

### 상태 전환 다이어그램
```
[스크립트 업로드] → script_ready
                      ↓
[비디오 업로드]   → video_ready
                      ↓
[YouTube 업로드]  → uploaded
                      ↓
[완료] ✅ YouTube에서 시청 가능
```

### 오류 상태 처리
```
어느 단계에서든 오류 발생 → error 상태
                          ↓
문제 해결 후 해당 단계부터 재시작
```

---

## 🔧 문제 해결

### 일반적인 문제

#### 1. ❌ API 서버 연결 실패
**증상**: 대시보드에서 "❌ API 오류" 표시
**해결**:
```bash
# 백엔드 서버 시작
cd backend
make run

# 또는 수동 실행
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

#### 2. ⚠️ YouTube API 인증 실패
**증상**: "⚠️ YouTube 확인 중" 지속 표시
**해결**:
1. `credentials.json` 파일 확인
2. OAuth 토큰 재인증:
```bash
# 토큰 파일 삭제 후 재인증
rm token.pickle
```
3. YouTube API 할당량 확인

#### 3. 📄 스크립트 파싱 오류
**증상**: "스크립트 파싱 오류" 메시지
**해결**:
- 스크립트 형식 재확인:
  - `=== 제목 ===` 정확한 구분자 사용
  - 각 섹션 사이 빈 줄 추가
  - UTF-8 인코딩 확인

#### 4. 🎥 비디오 업로드 실패
**증상**: "업로드 실패" 메시지
**해결**:
- 파일 크기 확인 (8GB 이하)
- 지원 형식 확인 (.mp4, .avi, .mov, .mkv, .webm)
- 디스크 용량 확인
- 네트워크 연결 상태 확인

#### 5. 📺 YouTube 업로드 실패
**증상**: "YouTube 업로드 실패" 메시지
**해결**:
- API 할당량 확인 (일일 10,000 units)
- 비디오 파일 존재 여부 확인
- YouTube 계정 상태 확인
- 프로젝트 인증 상태 확인

### 디버깅 팁

#### 로그 확인
```bash
# 백엔드 로그 실시간 확인
tail -f backend/logs/app-$(date +%Y-%m-%d).log

# 오류 로그만 확인
tail -f backend/logs/error-$(date +%Y-%m-%d).log
```

#### 개발자 도구 활용
1. 브라우저에서 F12 키 → Console 탭
2. 네트워크 요청 실패 확인
3. JavaScript 오류 메시지 확인

#### Streamlit 디버깅
```bash
# 디버그 모드로 Streamlit 실행
streamlit run streamlit_app/app.py --logger.level debug
```

---

## 💡 고급 사용법

### 효율적인 워크플로우

#### 배치 처리
1. **여러 스크립트 동시 업로드**:
   - 스크립트 파일들을 순차적으로 업로드
   - script_ready 상태 확인 후 다음 단계 진행

2. **비디오 파일 미리 준비**:
   - 스크립트 업로드 전에 비디오 파일 편집 완료
   - 파일명을 스크립트 ID와 매칭하여 관리

#### 자동화 스크립트 활용
```bash
# CLI 도구 사용
./quick-script script1.txt    # 빠른 스크립트 업로드
./quick-upload script_id      # 빠른 비디오 업로드
./youtube-cli status          # 전체 상태 확인
```

### 성능 최적화

#### 브라우저 설정
- **크롬 권장**: 최적의 Streamlit 성능
- **캐시 관리**: 주기적으로 브라우저 캐시 정리
- **확장 프로그램**: 광고 차단기 등이 간섭할 수 있음

#### 네트워크 최적화
- **업로드 시간대**: YouTube 트래픽이 적은 시간 활용
- **파일 크기**: 필요 이상으로 큰 파일 피하기
- **동시 업로드**: 여러 파일 동시 업로드 시 대역폭 고려

### 모니터링 및 관리

#### 정기 점검 항목
- [ ] API 할당량 사용량 확인
- [ ] 디스크 용량 확인
- [ ] 로그 파일 크기 관리
- [ ] YouTube 채널 상태 확인

#### 백업 및 복구
```bash
# 데이터베이스 백업
cp backend/app.db backup/app_$(date +%Y%m%d).db

# 업로드된 비디오 파일 백업
cp -r uploads/videos backup/videos_$(date +%Y%m%d)/
```

### 확장 기능

#### 사용자 정의 설정
- `streamlit_app/config.py`에서 설정 변경:
  - 파일 크기 제한
  - 지원 형식 추가
  - UI 색상 변경

#### API 통합
- 외부 서비스와 연동:
  - 썸네일 자동 생성 API
  - 음성 인식 자막 생성
  - 분석 도구 연동

---

## 📞 지원 및 문의

### 추가 문서
- `CLAUDE.md`: 프로젝트 전체 구조 및 개발 가이드
- `CLI_USAGE.md`: 명령줄 도구 사용법
- `TROUBLESHOOTING.md`: 상세 문제 해결 가이드

### 개발자 정보
- **프로젝트**: YouTube 업로드 자동화 시스템
- **대상 사용자**: 1인 개발자, 콘텐츠 제작자
- **기술 스택**: FastAPI + Streamlit + YouTube Data API v3

---

*이 가이드는 YouTube 자동화 Streamlit 대시보드의 모든 기능을 다룹니다. 추가적인 도움이 필요하시면 관련 문서를 참조하거나 개발자에게 문의하세요.* 🚀