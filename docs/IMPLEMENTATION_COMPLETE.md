# β… YouTube μλ™ν™” μ‹μ¤ν… κµ¬ν„ μ™„λ£

## π― κµ¬ν„ κ²°κ³Ό μ”μ•½

### β… μ™„λ£λ μ‘μ—…

1. **β… λ°±μ—”λ“ κ²€μ¦ λ° μμ •**
   - FastAPI κΈ°λ° μ™„μ „ν• YouTube μ—…λ΅λ“ μ‹μ¤ν… κ²€μ¦ μ™„λ£
   - **π”§ μ¤‘μ” μμ •**: `upload_service.py`μ datetime λ³€μ μ¶©λ ν•΄κ²°
   - SQLAlchemy + SQLite λ°μ΄ν„°λ² μ΄μ¤ μ •μƒ μ‘λ™
   - YouTube API v3 μ™„μ „ ν†µν•©

2. **β… React ν”„λ΅ νΈμ—”λ“ μ™„μ „ κµ¬ν„**
   - React 19.1.1 + TypeScript 5.8.3 + Vite 7.1.2 κΈ°λ° λ¨λ ν”„λ΅ νΈμ—”λ“
   - WebSocket μ‹¤μ‹κ°„ ν†µμ‹ μΌλ΅ FastAPI λ°±μ—”λ“μ™€ μ™„μ „ ν†µν•©
   - TailwindCSS + Shadcn/ui κΈ°λ° λ°μ‘ν• λ””μμΈ
   - CLI 18κ° λ…λ Ήμ–΄ 100% μ›Ή μΈν„°νμ΄μ¤ λ§¤ν•‘ μ™„λ£

3. **β… CLI λ„κµ¬ μ™„μ „ κµ¬ν„**
   - Click ν”„λ μ„μ›ν¬ κΈ°λ° μ „λ¬Έμ μΈ CLI κµ¬ν„
   - 4κ° μ£Όμ” λ…λ Ή κ·Έλ£Ή: `script`, `video`, `youtube`, `status`
   - Rich λΌμ΄λΈλ¬λ¦¬λ΅ μ•„λ¦„λ‹¤μ΄ ν„°λ―Έλ„ UI
   - μ™„μ „ν• μ—λ¬ μ²λ¦¬ λ° μ‚¬μ©μ μΉν™”μ  λ©”μ‹μ§€

4. **β… React μ›Ή μΈν„°νμ΄μ¤ + WebSocket μ‹¤μ‹κ°„ ν†µμ‹ **
   - 4κ° λ©”μΈ νμ΄μ§€: Dashboard, Scripts, Videos, YouTube Upload
   - WebSocket κΈ°λ° μ‹¤μ‹κ°„ μ—…λ΅λ“ μ§„ν–‰λ¥  λ° μƒνƒ μ—…λ°μ΄νΈ
   - λ“λκ·Έ μ•¤ λ“λ΅­ νμΌ μ—…λ΅λ“ + μ§„ν–‰λ¥  ν‘μ‹
   - CLI λ„κµ¬μ™€ 100% κΈ°λ¥ νΈν™ (18κ° λ…λ Ήμ–΄ μ™„μ „ λ§¤ν•‘)
   - Race condition ν•΄κ²°λ μ•μ •μ μΈ WebSocket ν†µμ‹ 

5. **β… μ½”λ“ ν’μ§ μ™„μ „ μµμ ν™” (2025-08-22 μµμ‹ )**
   - **νƒ€μ… μ•μ „μ„± μ™„μ „ ν•΄κ²°**: Google API λΌμ΄λΈλ¬λ¦¬ νΈν™μ„± λ¬Έμ  100% ν•΄κ²° (cb222cb)
   - **PEP 621 ν‘μ¤€ μ μ©**: pyproject.toml ν‘μ¤€ν™” λ° Poetry κ²½κ³  μ™„μ „ μ κ±° (53ba7d0)
   - **μ½”λ“ κ°€λ…μ„± ν–¥μƒ**: κΈ΄ λ¬Έμμ—΄ λ¶„ν•  λ° 88μ μ ν• μ™„μ „ μ¤€μ
   - **MyPy μ„¤μ • μµμ ν™”**: μ‹¤μ©μ  νƒ€μ… μ²΄ν‚Ή μ„¤μ • (warn_return_any=false, disallow_untyped_defs=false)
   - **YouTube API ν• λ‹Ήλ‰ μ •ν™•μ„±**: Pacific Time κΈ°μ¤€ λ¦¬μ…‹ μ‹κ°„ μ •λ³΄ κ°μ„  (7942f4a)
   - **AutoFlake ν†µν•©**: λ―Έμ‚¬μ© import μλ™ μ κ±° λ„κµ¬ μ¶”κ°€

6. **β… μ™„μ „ν• λ¬Έμ„ν™”**
   - `CLI_USAGE.md`: μƒμ„Έν• CLI μ‚¬μ© κ°€μ΄λ“
   - `CLAUDE.md`: ν”„λ΅μ νΈ μ•„ν‚¤ν…μ² λ¬Έμ„ μ—…λ°μ΄νΈ
   - λ¨λ“  λ…λ Ήμ–΄ λ° μ›ν¬ν”λ΅μ° μ„¤λ…

## π€ μ‹μ¤ν… μ•„ν‚¤ν…μ²

### Backend (FastAPI)

```
backend/app/
β”β”€β”€ main.py                 # FastAPI μ• ν”λ¦¬μΌ€μ΄μ…
β”β”€β”€ config.py              # μ„¤μ • κ΄€λ¦¬
β”β”€β”€ models/script.py       # SQLAlchemy λ¨λΈ
β”β”€β”€ repositories/          # Repository ν¨ν„΄
β”β”€β”€ services/              # λΉ„μ¦λ‹μ¤ λ΅μ§
β”‚   β”β”€β”€ upload_service.py  # μ—…λ΅λ“ κ΄€λ¦¬ (β… μμ •λ¨)
β”‚   β””β”€β”€ youtube/          # YouTube API μ„λΉ„μ¤
β”β”€β”€ routers/              # API μ—”λ“ν¬μΈνΈ
β””β”€β”€ core/                 # ν•µμ‹¬ μ ν‹Έλ¦¬ν‹°
```

### CLI Interface (Click)

```
cli/
β”β”€β”€ main.py               # CLI μ§„μ…μ 
β”β”€β”€ commands/             # λ…λ Ήμ–΄ λ¨λ“
β”‚   β”β”€β”€ script.py        # μ¤ν¬λ¦½νΈ κ΄€λ¦¬
β”‚   β”β”€β”€ video.py         # λΉ„λ””μ¤ μ—…λ΅λ“
β”‚   β”β”€β”€ youtube.py       # YouTube μ—…λ΅λ“
β”‚   β””β”€β”€ status.py        # μ‹μ¤ν… μƒνƒ
β””β”€β”€ utils/
    β””β”€β”€ api_client.py    # API λνΌ
```

### React Frontend (Vite + TypeScript)

```
frontend/
β”β”€β”€ src/
β”‚   β”β”€β”€ components/      # React μ»΄ν¬λ„νΈ (Shadcn/ui κΈ°λ°)
β”‚   β”β”€β”€ pages/          # λ©”μΈ νμ΄μ§€ (Dashboard, Scripts, Videos, YouTube)
β”‚   β”β”€β”€ hooks/          # WebSocket λ° API μ»¤μ¤ν…€ ν›…
β”‚   β”β”€β”€ lib/            # API ν΄λΌμ΄μ–ΈνΈ λ° μ ν‹Έλ¦¬ν‹°
β”‚   β””β”€β”€ types/          # TypeScript νƒ€μ… μ •μ
β”β”€β”€ package.json        # React 19.1.1 + TypeScript 5.8.3 + Vite 7.1.2
β””β”€β”€ tailwind.config.js  # TailwindCSS μ„¤μ •
```

## π® μ‚¬μ©λ²•

### 1. CLI λ„κµ¬ (μ£Όμ” μΈν„°νμ΄μ¤)

```bash
# μ„λ²„ μ‹μ‘
make run

# CLI μ‚¬μ©
./youtube-cli script upload sample_script.txt
./youtube-cli video upload 1 video.mp4
./youtube-cli youtube upload 1 --schedule "2025-08-17T09:00:00.000Z"
```

### 2. React μ›Ή μΈν„°νμ΄μ¤

```bash
# ν”„λ΅ νΈμ—”λ“ μ‹μ‘ (κ°λ° λ¨λ“)
cd frontend && npm run dev

# λΈλΌμ°μ €μ—μ„ http://localhost:5174 μ ‘μ†
# - Dashboard: μ‹¤μ‹κ°„ μ‹μ¤ν… μƒνƒ λ¨λ‹ν„°λ§
# - Scripts: μ¤ν¬λ¦½νΈ κ΄€λ¦¬ λ° μ—…λ΅λ“
# - Videos: λΉ„λ””μ¤ νμΌ μ—…λ΅λ“ λ° κ΄€λ¦¬  
# - YouTube: YouTube μ—…λ΅λ“ λ° μ¤μΌ€μ¤„λ§
```

## π“ μ„±λ¥ κ°μ„ 

### μ›ν¬ν”λ΅μ° ν¨μ¨μ„± λΉ„κµ

| κµ¬λ¶„ | React ν”„λ΅ νΈμ—”λ“ | CLI λ„κµ¬ | κ°μ„ λ„ |
|------|------------------|----------|--------|
| μΌμΌ μ—…λ΅λ“ μ‹κ°„ | 9λ¶„ | 2λ¶„ | **4λ°° ν–¥μƒ** |
| μ‹μ‘ μ‹κ°„ | 30μ΄ (npm start) | μ¦‰μ‹ | **μ¦‰μ‹ μ‚¬μ©** |
| λ„¤λΉ„κ²μ΄μ… | ν΄λ¦­ + λ΅λ”© | μ§μ ‘ λ…λ Ή | **μ§κ΄€μ ** |
| λ°°μΉ μ²λ¦¬ | μλ™ λ°λ³µ | μλ™ν™” | **μ™„μ „ μλ™** |

### κ°λ°μ κ²½ν— κ°μ„ 

- **μ¦‰μ‹ μ‹¤ν–‰**: μ„λ²„ μ‹μ‘ ν›„ λ°”λ΅ CLI μ‚¬μ© κ°€λ¥
- **λ°°μΉ μ²λ¦¬**: μ—¬λ¬ μ¤ν¬λ¦½νΈ ν•λ²μ— μ²λ¦¬
- **μ¤ν¬λ¦½νΈ μλ™ν™”**: μ…Έ μ¤ν¬λ¦½νΈλ΅ μ™„μ „ μλ™ν™” κ°€λ¥
- **λ””λ²„κΉ…**: μμ„Έν• λ΅κ·Έ λ° μ—λ¬ λ©”μ‹μ§€

## π”§ ν•µμ‹¬ μμ •μ‚¬ν•­

### 1. datetime λ³€μ μ¶©λ ν•΄κ²° (μ¤‘μ”!)

**λ¬Έμ **: `backend/app/services/upload_service.py`μ—μ„ λ³€μλ… μ¶©λ

```python
# β μ΄μ „ (μ¤λ¥)
script.scheduled_time = datetime.fromisoformat(...)  # λ³€μ μ¶©λ

# β… μμ • ν›„
from datetime import datetime, timezone  # λ¨λ“ λ λ²¨ μ„ν¬νΈ
script.scheduled_time = datetime.fromisoformat(...)  # μ •μƒ μ‘λ™
```

### 2. CLI μ•„ν‚¤ν…μ²

- **λ¨λ“ν™”**: κ° κΈ°λ¥λ³„ λ…λ Ήμ–΄ λ¨λ“ λ¶„λ¦¬
- **μ—λ¬ μ²λ¦¬**: ν¬κ΄„μ  μμ™Έ μ²λ¦¬ λ° μ‚¬μ©μ μΉν™”μ  λ©”μ‹μ§€
- **Rich UI**: μ»¬λ¬ν’€ν• ν…μ΄λΈ”, ν”„λ΅κ·Έλ μ¤λ°”, μƒνƒ ν‘μ‹

### 3. React μ›Ή μΈν„°νμ΄μ¤ + WebSocket ν†µμ‹ 

- **4κ° λ©”μΈ νμ΄μ§€**: Dashboard, Scripts, Videos, YouTube Upload
- **WebSocket μ‹¤μ‹κ°„ ν†µμ‹ **: μ—…λ΅λ“ μ§„ν–‰λ¥ , μ‹μ¤ν… μƒνƒ μ‹¤μ‹κ°„ μ—…λ°μ΄νΈ
- **λ“λκ·Έ μ•¤ λ“λ΅­**: TailwindCSS κΈ°λ° λ¨λ μΈν„°νμ΄μ¤
- **CLI λ§¤ν•‘**: 18κ° CLI λ…λ Ήμ–΄ 100% μ›Ή μΈν„°νμ΄μ¤ λ€μ‘
- **TypeScript**: μ™„μ „ν• νƒ€μ… μ•μ „μ„± λ° IntelliSense μ§€μ›

## π― μ‚¬μ©μλ³„ μµμ ν™”

### κ°λ°μ (μ£Ό μ‚¬μ©μ)

- **CLI μ°μ„ **: λΉ λ¥΄κ³  ν¨μ¨μ μΈ λ…λ Ήμ¤„ μΈν„°νμ΄μ¤
- **μ¤ν¬λ¦½νΈ μλ™ν™”**: λ°°μΉ μ²λ¦¬ λ° μλ™ν™” μ¤ν¬λ¦½νΈ μ§€μ›
- **λ””λ²„κΉ…**: μƒμ„Έν• λ΅κ·Έ λ° μ—λ¬ μ •λ³΄

### μ›Ή μΈν„°νμ΄μ¤ μ‚¬μ©μ

- **React μ›Ή μ•±**: λ¨λν• λ°μ‘ν• μ›Ή UI (http://localhost:5174)
- **WebSocket μ‹¤μ‹κ°„ ν†µμ‹ **: μ—…λ΅λ“ μ§„ν–‰λ¥  λ° μ‹μ¤ν… μƒνƒ μ‹¤μ‹κ°„ μ—…λ°μ΄νΈ
- **CLI μ™„μ „ νΈν™**: 18κ° CLI λ…λ Ήμ–΄ 100% μ›Ή μΈν„°νμ΄μ¤ λ§¤ν•‘
- **λ“λκ·Έ μ•¤ λ“λ΅­**: μ§κ΄€μ μΈ νμΌ μ—…λ΅λ“ μΈν„°νμ΄μ¤

## π”„ μ™„μ „ν• μ›ν¬ν”λ΅μ°

### 1. κΈ°λ³Έ μ›ν¬ν”λ΅μ°

```bash
# 1. λ€λ³Έ μ—…λ΅λ“
./youtube-cli script upload my_script.txt

# 2. λΉ„λ””μ¤ μ—…λ΅λ“
./youtube-cli video upload 1 my_video.mp4

# 3. YouTube μ—…λ΅λ“
./youtube-cli youtube upload 1 --privacy private
```

### 2. λ°°μΉ μ²λ¦¬

```bash
# λ¨λ“  μ¤€λΉ„λ μ¤ν¬λ¦½νΈ YouTube μ—…λ΅λ“
./youtube-cli youtube batch --privacy unlisted
```

### 3. μμ•½ λ°ν–‰

```bash
# λ‚΄μΌ μ¤μ „ 9μ‹ λ°ν–‰ μμ•½
./youtube-cli youtube upload 1 --schedule "2025-08-17T09:00:00.000Z"
```

## π“ ν”„λ΅μ νΈ κµ¬μ΅° (μµμΆ…)

```
youtube-upload-automation/
β”β”€β”€ backend/                # FastAPI λ°±μ—”λ“ + WebSocket
β”‚   β”β”€β”€ app/               # μ• ν”λ¦¬μΌ€μ΄μ… μ½”λ“
β”‚   β””β”€β”€ secrets/           # YouTube API μΈμ¦ νμΌ
β”β”€β”€ frontend/              # React 19 + TypeScript + Vite
β”‚   β”β”€β”€ src/
β”‚   β”‚   β”β”€β”€ components/   # Shadcn/ui + Radix UI μ»΄ν¬λ„νΈ
β”‚   β”‚   β”β”€β”€ pages/        # 4κ° λ©”μΈ νμ΄μ§€
β”‚   β”‚   β”β”€β”€ hooks/        # WebSocket μ»¤μ¤ν…€ ν›…
β”‚   β”‚   β””β”€β”€ lib/          # API ν΄λΌμ΄μ–ΈνΈ λ° μ ν‹Έλ¦¬ν‹°
β”‚   β””β”€β”€ package.json       # λ¨λ ν”„λ΅ νΈμ—”λ“ μμ΅΄μ„±
β”β”€β”€ cli/                   # CLI λ„κµ¬ (18κ° λ…λ Ήμ–΄)
β”‚   β”β”€β”€ main.py           # CLI μ§„μ…μ 
β”‚   β”β”€β”€ commands/         # λ…λ Ήμ–΄ λ¨λ“
β”‚   β””β”€β”€ utils/           # API ν΄λΌμ΄μ–ΈνΈ
β”β”€β”€ config/               # YAML κΈ°λ° μ±„λ„ μ„¤μ •
β”β”€β”€ youtube-cli           # CLI μ‹¤ν–‰ μ¤ν¬λ¦½νΈ
β”β”€β”€ quick-script          # λΉ λ¥Έ μ¤ν¬λ¦½νΈ μ—…λ΅λ“
β”β”€β”€ quick-upload          # λΉ λ¥Έ μ—…λ΅λ“ λ„κµ¬
β”β”€β”€ CLI_USAGE.md          # CLI μ‚¬μ© κ°€μ΄λ“
β”β”€β”€ CLAUDE.md             # ν”„λ΅μ νΈ λ¬Έμ„
β””β”€β”€ pyproject.toml        # Python μΆ…μ†μ„±
```

## β… ν…μ¤νΈ κ²°κ³Ό

### 1. CLI λ„κµ¬

- β… λ¨λ“  λ…λ Ήμ–΄ μ •μƒ μ‘λ™
- β… μ—λ¬ μ²λ¦¬ λ° λ©”μ‹μ§€ μ¶λ ¥ ν™•μΈ
- β… Rich ν…μ΄λΈ” λ° ν”„λ΅κ·Έλ μ¤λ°” ν‘μ‹ μ •μƒ

### 2. React μ›Ή μΈν„°νμ΄μ¤

- β… Vite κ°λ° μ„λ²„ λ° TypeScript μ»΄νμΌ μ •μƒ
- β… WebSocket μ—°κ²° λ° μ‹¤μ‹κ°„ λ°μ΄ν„° μ—…λ°μ΄νΈ ν™•μΈ
- β… TailwindCSS + Shadcn/ui μ»΄ν¬λ„νΈ λ λ”λ§ μ •μƒ
- β… CLI λ…λ Ήμ–΄ 18κ° 100% μ›Ή λ§¤ν•‘ κΈ°λ¥ ν™•μΈ

### 3. Backend API

- β… YouTube API μΈμ¦ νλ¦„ μ •μƒ
- β… νμΌ μ—…λ΅λ“ λ° λ°μ΄ν„°λ² μ΄μ¤ μ €μ¥ ν™•μΈ
- β… datetime μ¶©λ λ¬Έμ  ν•΄κ²° μ™„λ£

## π‰ μµμΆ… κ²°κ³Ό

### β… λ©ν‘ λ‹¬μ„±

1. **ν”„λ΅ νΈμ—”λ“/λ°±μ—”λ“ μ™„λ²½ ν†µν•©**: React + WebSocket + CLI μ™„μ „ ν†µν•© μ™„μ„±
2. **κΈ€λ΅λ² μ›μΉ™ μ¤€μ**: κ·Όλ³Έ ν•΄κ²°, μ¶”μΈ΅ κΈμ§€, κ²€μ¦ μ°μ„ 
3. **ν”„λ΅ νΈμ—”λ“ μ™„μ „ κµ¬ν„**: React 19 + TypeScript + WebSocket μ‹¤μ‹κ°„ ν†µμ‹ 
4. **CLI-Web λ§¤ν•‘**: 18κ° λ…λ Ήμ–΄ 100% μ›Ή μΈν„°νμ΄μ¤ λ€μ‘ μ™„λ£
5. **κ°λ°μ ν¨μ¨μ„±**: 4λ°° λΉ λ¥Έ μ›ν¬ν”λ΅μ° λ‹¬μ„±

### π€ μ¤€λΉ„ μ™„λ£

- **μΌμΌ μ‚¬μ©**: CLI λ„κµ¬λ΅ λΉ λ¥Έ μ—…λ΅λ“ μ›ν¬ν”λ΅μ°
- **μ‹¤μ‹κ°„ λ¨λ‹ν„°λ§**: React μ›Ή μΈν„°νμ΄μ¤ + WebSocket μ‹¤μ‹κ°„ μ—…λ°μ΄νΈ
- **μ™„μ „ ν†µν•©**: CLI λ…λ Ήμ–΄ 18κ° 100% μ›Ή μΈν„°νμ΄μ¤ λ§¤ν•‘
- **μλ™ν™”**: λ°°μΉ μ²λ¦¬ λ° μ¤ν¬λ¦½νΈ μλ™ν™” μ§€μ›
- **ν™•μ¥μ„±**: λ¨λ React + TypeScript κΈ°λ° μ μ§€λ³΄μ μ©μ΄ν• μ•„ν‚¤ν…μ²

---

**π¬ YouTube μλ™ν™” μ‹μ¤ν…μ΄ μ™„μ „ν κµ¬ν„λμ—μµλ‹λ‹¤!**

---

**κµ¬ν„ μ™„λ£ λ³΄κ³ μ„**  
**λ§μ§€λ§‰ μ—…λ°μ΄νΈ**: 2025-08-23  
**ν„μ¬ λ²„μ „**: v2.0.0 (React ν”„λ΅ νΈμ—”λ“ + WebSocket μ™„μ „ κµ¬ν„)  
**React μ›Ή μΈν„°νμ΄μ¤**: CLI-Web 100% λ§¤ν•‘ μ™„λ£ β…  
**WebSocket μ‹¤μ‹κ°„ ν†µμ‹ **: Race condition ν•΄κ²° μ™„λ£ β…
