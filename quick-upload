#!/usr/bin/env bash
# ë¹ ë¥¸ ì „ì²´ ì›Œí¬í”Œë¡œìš° ë˜í¼

if [ $# -lt 2 ]; then
    echo "ì‚¬ìš©ë²•: ./quick-upload <script_id> <video_file> [privacy]"
    echo "ì˜ˆì‹œ: ./quick-upload 1 video.mp4 private"
    exit 1
fi

SCRIPT_ID=$1
VIDEO_FILE=$2
PRIVACY=${3:-private}

echo "ğŸš€ ë¹ ë¥¸ ì—…ë¡œë“œ ì›Œí¬í”Œë¡œìš° ì‹œì‘..."
echo "ğŸ“ ìŠ¤í¬ë¦½íŠ¸ ID: $SCRIPT_ID"
echo "ğŸ¥ ë¹„ë””ì˜¤ íŒŒì¼: $VIDEO_FILE"
echo "ğŸ”’ ê³µê°œ ì„¤ì •: $PRIVACY"
echo ""

# 1ë‹¨ê³„: ë¹„ë””ì˜¤ ì—…ë¡œë“œ
echo "1ï¸âƒ£ ë¹„ë””ì˜¤ ì—…ë¡œë“œ ì¤‘..."
./youtube-cli video upload "$SCRIPT_ID" "$VIDEO_FILE"

if [ $? -eq 0 ]; then
    echo ""
    echo "2ï¸âƒ£ YouTube ì—…ë¡œë“œ ì¤‘..."
    ./youtube-cli youtube upload "$SCRIPT_ID" --privacy "$PRIVACY"
    
    if [ $? -eq 0 ]; then
        echo ""
        echo "âœ… ì „ì²´ ì—…ë¡œë“œ ì›Œí¬í”Œë¡œìš° ì™„ë£Œ!"
    else
        echo "âŒ YouTube ì—…ë¡œë“œ ì‹¤íŒ¨"
        exit 1
    fi
else
    echo "âŒ ë¹„ë””ì˜¤ ì—…ë¡œë“œ ì‹¤íŒ¨"
    exit 1
fi